%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% kaobook
% LaTeX Template
% Version 1.3 (December 9, 2021)
%
% This template originates from:
% https://www.LaTeXTemplates.com
%
% For the latest template development version and to make contributions:
% https://github.com/fmarotta/kaobook
%
% Authors:
% Federico Marotta (federicomarotta@mail.com)
% Based on the doctoral thesis of Ken Arroyo Ohori (https://3d.bk.tudelft.nl/ken/en)
% and on the Tufte-LaTeX class.
% Modified for LaTeX Templates by Vel (vel@latextemplates.com)
%
% License:
% CC0 1.0 Universal (see included MANIFEST.md file)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\PassOptionsToPackage{noautomatic}{imakeidx} % Disable automatic indexing
\documentclass[
	b5paper, % Page size
	fontsize=10pt, % Base font size
	twoside=true, % Use different layouts for even and odd pages (in particular, if twoside=true, the margin column will be always on the outside)
	%open=any, % If twoside=true, uncomment this to force new chapters to start on any page, not only on right (odd) pages
	%chapterentrydots=true, % Uncomment to output dots from the chapter name to the page number in the table of contents
	numbers=noenddot, % Comment to output dots after chapter numbers; the most common values for this option are: enddot, noenddot and auto (see the KOMAScript documentation for an in-depth explanation)
]{kaobook}

\usepackage[disablepatch=caption]{tocbasic}

\usepackage{fontspec}
\usepackage{xeCJK}
\xeCJKsetup{space=true}

\setmainfont{NotoSerifCJKkr-Regular.otf}[
  Path=fonts/noto/,
  BoldFont=NotoSerifCJKkr-Bold.otf,
  ItalicFont=NotoSerifCJKkr-Regular.otf,
  ItalicFeatures={FakeSlant=0.2},
  BoldItalicFont=NotoSerifCJKkr-Bold.otf,
  BoldItalicFeatures={FakeSlant=0.2}
]
\setCJKmainfont{NotoSerifCJKkr-Regular.otf}[
  Path=fonts/noto/,
  BoldFont=NotoSerifCJKkr-Bold.otf,
  ItalicFont=NotoSerifCJKkr-Regular.otf,
  ItalicFeatures={FakeSlant=0.2},
  BoldItalicFont=NotoSerifCJKkr-Bold.otf,
  BoldItalicFeatures={FakeSlant=0.2}
]
\setCJKsansfont{NotoSansCJKkr-Regular.otf}[
  Path=fonts/noto/,
  BoldFont=NotoSansCJKkr-Bold.otf,
  ItalicFont=NotoSansCJKkr-Regular.otf,
  ItalicFeatures={FakeSlant=0.2},
  BoldItalicFont=NotoSansCJKkr-Bold.otf,
  BoldItalicFeatures={FakeSlant=0.2}
]
\setCJKmonofont{NotoSansCJKkr-Regular.otf}[
  Path=fonts/noto/,
  BoldFont=NotoSansCJKkr-Bold.otf,
  ItalicFont=NotoSansCJKkr-Regular.otf,
  ItalicFeatures={FakeSlant=0.2},
  BoldItalicFont=NotoSansCJKkr-Bold.otf,
  BoldItalicFeatures={FakeSlant=0.2}
]
%     \newfontfamily\hangulfont{NotoSerifCJKkr-Regular.otf}[
%       Path=fonts/noto/,
%       BoldFont=NotoSerifCJKkr-Bold.otf,
%       ItalicFont=NotoSerifCJKkr-Regular.otf,
%       ItalicFeatures={FakeSlant=0.2},
%       BoldItalicFont=NotoSerifCJKkr-Bold.otf,
%       BoldItalicFeatures={FakeSlant=0.2}
%     ]
%     \newfontfamily\hangulfontsf{NotoSansCJKkr-Regular.otf}[
%       Path=fonts/noto/,
%       BoldFont=NotoSansCJKkr-Bold.otf,
%       ItalicFont=NotoSansCJKkr-Regular.otf,
%       ItalicFeatures={FakeSlant=0.2},
%       BoldItalicFont=NotoSansCJKkr-Bold.otf,
%       BoldItalicFeatures={FakeSlant=0.2}
%     ]
%     \newfontfamily\hangulfonttt{NotoSansCJKkr-Regular.otf}[
%       Path=fonts/noto/,
%       BoldFont=NotoSansCJKkr-Bold.otf,
%       ItalicFont=NotoSansCJKkr-Regular.otf,
%       ItalicFeatures={FakeSlant=0.2},
%       BoldItalicFont=NotoSansCJKkr-Bold.otf,
%       BoldItalicFeatures={FakeSlant=0.2}
%     ]    
\usepackage{setspace}
    
\usepackage{tikz}
\usetikzlibrary{arrows.meta, positioning, calc}

% Choose the language
\ifxetexorluatex
% 	\usepackage{polyglossia}
% 	\setmainlanguage{korean}
%     \setotherlanguage{english}
    \usepackage[english]{babel}
\else
	\usepackage[english]{babel} % Load characters and hyphenation
\fi

\usepackage[
  backend=biber,
  style=ieee,
  language=auto,
  autolang=other,
  backref=true
]{kaobiblio}

\usepackage[english=british]{csquotes}	% English quotes

% Load packages for testing
\usepackage{blindtext}
%\usepackage{showframe} % Uncomment to show boxes around the text area, margin, header and footer
%\usepackage{showlabels} % Uncomment to output the content of \label commands to the document where they are used

% Load the bibliography package
\usepackage{kaobiblio}
\addbibresource{main.bib} % Bibliography file

% Load mathematical packages for theorems and related environments
\usepackage[framed=true]{kaotheorems}

% Load the package for hyperreferences
\usepackage{kaorefs}

\graphicspath{{examples/documentation/images/}{images/}} % Paths in which to look for images

\makeindex[columns=3, title=색인, intoc] % Make LaTeX produce the files required to compile the index

\makeglossaries % Make LaTeX produce the files required to compile the glossary
\input{glossary.tex} % Include the glossary definitions

\makenomenclature % Make LaTeX produce the files required to compile the nomenclature

% Reset sidenote counter at chapters
%\counterwithin*{sidenote}{chapter}

%----------------------------------------------------------------------------------------
\DeclareLanguageMapping{korean}{english}
\DeclareQuoteAlias{british}{korean}

\addto\captionsenglish{
	\renewcommand{\contentsname}{목차}
	\renewcommand{\listfigurename}{그림 목차}
	\renewcommand{\listtablename}{표 목차}
	\renewcommand{\figurename}{그림}
	\renewcommand{\tablename}{표}
	\renewcommand{\bibname}{참고 문헌}
}

\begin{document}

%----------------------------------------------------------------------------------------
%	BOOK INFORMATION
%----------------------------------------------------------------------------------------

\titlehead{데이터 기반 마케팅을 위한 \texttt{온톨로지} 가이드}
\subject{Data-Driven Marketing}

%\title[Example and documentation of the {\normalfont\texttt{kaobook}} class]{Example and documentation \\ of the {\normalfont\texttt{kaobook}} class}
\title[마케팅을 이해하는 {\texttt{온톨로지}}]{마케팅을 이해하는 {\texttt{온톨로지}}}
\subtitle{논리로 설계하는 관계의 기술}

\author[김정석, Ph.D.]{김정석, Ph.D.\thanks{Ontology \& Neuro-Symbolic AI Researcher}}

\date{\today}

\publishers{지그재그}

%----------------------------------------------------------------------------------------

\frontmatter % Denotes the start of the pre-document content, uses roman numerals

%----------------------------------------------------------------------------------------
%	OPENING PAGE
%----------------------------------------------------------------------------------------

%\makeatletter
%\extratitle{
%	% In the title page, the title is vspaced by 9.5\baselineskip
%	\vspace*{9\baselineskip}
%	\vspace*{\parskip}
%	\begin{center}
%		% In the title page, \huge is set after the komafont for title
%		\usekomafont{title}\huge\@title
%	\end{center}
%}
%\makeatother

%----------------------------------------------------------------------------------------
%	COPYRIGHT PAGE
%----------------------------------------------------------------------------------------

\makeatletter
\uppertitleback{\@titlehead} % Header

\lowertitleback{
 \textbf{저작권} \\
	\copyright\ 2025 \@author \\
 이 책의 저작권은 저자에게 있습니다. 저작권법에 의해 보호를 받는 저작물이므로 저자와 출판사의 문서에 의한 허락 없이 무단 전재와 복제를 금합니다.
	
	\medskip
	
 \textbf{발행} \\
	2025년 12월, \@publishers 발행
}
\makeatother

%----------------------------------------------------------------------------------------
%	DEDICATION
%----------------------------------------------------------------------------------------

\dedication{
	\vspace*{0.15\textheight} % Visually balanced vertical spacing
	\begin{center}
		스스로의 길을 찾기 위해 끊임없이 질문을 던지고,\\
		비록 잠시 멈추더라도 끝내 앞으로 나아가려는\\
		모든 분들께 이 책을 바칩니다.\\[2em]
		
		여러분의 걸음은 언제나 깊은 의미를 지니며,\\
		그 여정은 생각보다 훨씬 더 먼 곳에 닿을 것입니다.
	\end{center}
}

%----------------------------------------------------------------------------------------
%	OUTPUT TITLE PAGE AND PREVIOUS
%----------------------------------------------------------------------------------------

% Note that \maketitle outputs the pages before here

\maketitle
 
%----------------------------------------------------------------------------------------
%	PREFACE
%----------------------------------------------------------------------------------------

\input{chapters/preface.tex}


%----------------------------------------------------------------------------------------
%	TABLE OF CONTENTS & LIST OF FIGURES/TABLES
%----------------------------------------------------------------------------------------

\begingroup % Local scope for the following commands

% Define the style for the TOC, LOF, and LOT
%\setstretch{1} % Uncomment to modify line spacing in the ToC
%\hypersetup{linkcolor=blue} % Uncomment to set the colour of links in the ToC
\setlength{\textheight}{230\hscale} % Manually adjust the height of the ToC pages

% Turn on compatibility mode for the etoc package
\etocclasstocstyle % "toc display" as if etoc was not loaded
\etocstandardlines % "toc lines" as if etoc was not loaded

\tableofcontents % Output the table of contents

\listoffigures % Output the list of figures

% Comment both of the following lines to have the LOF and the LOT on different pages
\let\cleardoublepage\bigskip
\let\clearpage\bigskip

\listoftables % Output the list of tables

\endgroup

%----------------------------------------------------------------------------------------
%	MAIN BODY
%----------------------------------------------------------------------------------------

\mainmatter % Denotes the start of the main document content, resets page numbering and uses arabic numbers
\setchapterstyle{kao} % Choose the default chapter heading style

\pagelayout{wide} % No margins
\addpart{마케팅, 판단의 기술}
%\pagelayout{wide} % No margins

\pagelayout{margin}
\setstretch{1.8}
\input{chapters/ch01-message-overflow.tex}

\input{chapters/ch02-criteria-of-judgement.tex}

\pagelayout{wide} % No margins
\addpart{온톨로지, 논리의 설계}
\pagelayout{margin} % No margins

\setstretch{1.8}
\input{chapters/ch03-essence-of-ontology.tex}
\input{chapters/ch04-practice-of-modeling.tex}

\pagelayout{wide} % No margins
\addpart{경험, 구조의 확장}
\pagelayout{margin} % No margins

\input{chapters/ch05-implementation-of-consistent-touchpoints.tex}
\input{chapters/ch06-future-of-relationship-architect.tex}

%\input{chapters/introduction.tex}

%\pagelayout{wide} % No margins
%\addpart{Class Options, Commands and Environments}
%\pagelayout{margin} % Restore margins

%\input{chapters/options.tex}
%\input{chapters/textnotes.tex}
%\input{chapters/figsntabs.tex}
%\input{chapters/references.tex}

%\pagelayout{wide} % No margins
%\addpart{Design and Additional Features}
%\pagelayout{margin} % Restore margins


%\input{chapters/layout.tex}
%\input{chapters/mathematics.tex}

\appendix % From here onwards, chapters are numbered with letters, as is the appendix convention

\pagelayout{wide} % No margins
\addpart{부록}
\pagelayout{margin} % Restore margins

%\input{chapters/appendix.tex}

%----------------------------------------------------------------------------------------

\backmatter % Denotes the end of the main document content
\setchapterstyle{plain} % Output plain chapters from this point onwards

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

% The bibliography needs to be compiled with biber using your LaTeX editor, or on the command line with 'biber main' from the template directory

\printbibliography[heading=bibintoc, title=참고 문헌] % Add the bibliography heading to the ToC, set the title of the bibliography

%----------------------------------------------------------------------------------------
%	NOMENCLATURE
%----------------------------------------------------------------------------------------

% The nomenclature needs to be compiled on the command line with 'makeindex main.nlo -s nomencl.ist -o main.nls' from the template directory

%\nomenclature{$c$}{Speed of light in a vacuum inertial frame}
%\nomenclature{$h$}{Planck constant}

%\renewcommand{\nomname}{Notation} % Rename the default 'Nomenclature'
%\renewcommand{\nompreamble}{The next list describes several symbols that will be later used within the body of the document.} % Prepend this text to the nomenclature

%\printnomenclature % Output the nomenclature

%----------------------------------------------------------------------------------------
%	GREEK ALPHABET
% 	Originally from https://gitlab.com/jim.hefferon/linear-algebra
%----------------------------------------------------------------------------------------

%\vspace{1cm}

%----------------------------------------------------------------------------------------
%	GLOSSARY
%----------------------------------------------------------------------------------------

% The glossary needs to be compiled on the command line with 'makeglossaries main' from the template directory

%\setglossarystyle{listgroup} % Set the style of the glossary (see https://en.wikibooks.org/wiki/LaTeX/Glossary for a reference)
%\printglossary[title=Special Terms, toctitle=List of Terms] % Output the glossary, 'title' is the chapter heading for the glossary, toctitle is the table of contents heading

%----------------------------------------------------------------------------------------
%	INDEX
%----------------------------------------------------------------------------------------

% The index needs to be compiled on the command line with 'makeindex main' from the template directory

\printindex % Output the index

%----------------------------------------------------------------------------------------
%	BACK COVER
%----------------------------------------------------------------------------------------

% If you have a PDF/image file that you want to use as a back cover, uncomment the following lines

%\clearpage
%\thispagestyle{empty}
%\null%
%\clearpage
%\includepdf{cover-back.pdf}

%----------------------------------------------------------------------------------------

\end{document}
